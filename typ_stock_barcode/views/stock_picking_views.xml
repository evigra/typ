<?xml version="1.0" encoding="utf-8"?>
<odoo>

    <record id="view_stock_move_line_kanban_limit" model="ir.ui.view">
        <field name="name">stock.move.line.kanban.limit</field>
        <field name="model">stock.move.line</field>
        <field name="inherit_id" ref="stock.view_stock_move_line_kanban"/>
        <field name="priority">100</field>
        <field name="arch" type="xml">
            <xpath expr="//kanban" position="attributes">
                <attribute name="limit">1000</attribute>
                <attribute name="create">false</attribute>
            </xpath>
            <xpath expr="//t[@t-name='kanban-box']" position="replace">
                <t t-name="kanban-box">
                    <div t-attf-class="oe_kanban_card oe_kanban_global_click">
                        <strong class="o_kanban_record_title"><span><field name="product_id"/></span></strong>
                        <field name="picking_id" invisible="1"/>
                        <field name="posx" invisible="1"/>
                        <field name="posy" invisible="1"/>
                        <field name="posz" invisible="1"/>
                        <span t-if="record.posx.raw_value || record.posy.raw_value || record.posz.raw_value">
                            Ubication
                            <t t-if="record.posx.raw_value" t-esc="record.posx.raw_value"/> <t t-if="record.posy.raw_value" t-esc="record.posy.raw_value"/> <t t-if="record.posz.raw_value" t-esc="record.posz.raw_value"/>
                        </span>
                        <div class="row">
                            <div class="col-xs-6">
                                <field name="lot_id" invisible="not context.get('show_lots_m2o')" domain="[('product_id', '=', product_id)]" groups="stock.group_production_lot" context="{'default_product_id': product_id, 'active_picking_id': picking_id}"/>
                                <field name="lot_name" invisible="not context.get('show_lots_text')" groups="stock.group_production_lot"/>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-6 text-left">
                                <field name="product_barcode" invisible="1"/>
                                <field name="location_processed" invisible="1"/>
                                <field name="result_package_id" invisible="1"/>
                                <field name="lots_visible" invisible="1"/>
                                <field name="qty_done" invisible="1"/>
                                <span t-attf-class="#{record.qty_done.raw_value == 0.0 ? 'label label-info' : record.qty_done.raw_value &gt; 0.0 &amp; record.qty_done.raw_value &lt; record.product_uom_qty.raw_value ? 'label label-warning' : record.qty_done.raw_value == record.product_uom_qty.raw_value ? 'label label-success' : ''}">
                                    <t t-esc="record.qty_done.raw_value"/>
                                </span>
                                <field name="product_uom_id" string="Unit of Measure" groups="product.group_uom"/>
                            </div>
                            <div class="col-xs-6 text-right">
                                <field name="product_uom_qty" string="Quantity Reserved"/>
                                <field name="product_uom_id" string="Unit of Measure" groups="product.group_uom"/>
                            </div>
                        </div>
                    </div>
                </t>
            </xpath>
        </field>
    </record>
</odoo>
