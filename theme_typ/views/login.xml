<?xml version="1.0" encoding="utf-8" ?>
<odoo>

    <template id="login" inherit_id="web.login">
        <xpath expr="//form" position="before">
            <div class="container text-center">
                <div class="row">
                    <h5 class="text-center sections">SIGN IN</h5>
                </div>
                <div class="col-md-12 col-sm-12 col-sm-12 mt24">
                    <p>
                        Ready to join to the greatest refrigeration store in the country?
                    </p>
                </div>
            </div>
        </xpath>

        <xpath expr="//form" position="attributes">
            <attribute name="class" add="mt16" separator=" "/>
            <attribute name="data-action" add="/theme/login" separator=" "/>
        </xpath>

        <xpath expr="//div[hasclass('form-group', 'field-login')]/label[hasclass('control-label')]" position="replace"/>

        <xpath expr="//div[hasclass('form-group', 'field-login')]/input" position="attributes">
            <attribute name="placeholder" add="Email" separator=" "/>
        </xpath>

        <xpath expr="//div[hasclass('form-group','field-password')]/label[hasclass('control-label')]" position="replace"/>

        <xpath expr="//div[hasclass('form-group', 'field-password')]/input" position="attributes">
            <attribute name="placeholder" add="Password" separator=" "/>
        </xpath>

        <xpath expr="//div[hasclass('clearfix', 'oe_login_buttons')]/button[hasclass('btn', 'btn-primary')]" position="attributes">
            <attribute name="class">btn btn-primary btn-block submit-log-in</attribute>
        </xpath>

        <xpath expr="//div[hasclass('clearfix','oe_login_buttons')]" position="before">
            <div class="col-md-12 col-sm-12 text-center mt24">
                <span class="login-modal-error"></span>
            </div>
        </xpath>

        <!-- Deleted reset and sign up -->
        <xpath expr="//div[hasclass('clearfix','oe_login_buttons')]/a" position="replace"/>
        <xpath expr="//div[hasclass('clearfix','oe_login_buttons')]/a" position="replace"/>

        <xpath expr="//div[hasclass('clearfix','oe_login_buttons')]" position="after">
            <div class="col-md-12 col-sm-12 text-center mt24">
                <a href="/web/reset_password">Forgot my password</a>
            </div>
        </xpath>       
    </template>

    <!-- Log in modal -->
    <template id="login_modal" name="Log in Modal">
            <div  t-attf-id="{{id_login}}" class="modal fade modal-login mt96" role="dialog">
                <div class="modal-dialog text-center">
                    <div class="modal-content">

                        <div class="modal-header cobalt-color no-padding-bottom no-padding-top">
                            <div class="row mr0">
                                <button type="button" class="close mt8" data-dismiss="modal"><img src="/web/image/theme_typ.icon-close-modal" alt="Cerrar Modal"/></button> 
                            </div>
                            <div class="row mr0 ml0">
                                <h5 class="mt0 mb16">LOG IN</h5>
                            </div>
                        </div>

                        <div class="modal-body">
                            <div class="col-md-10 col-md-offset-1 col-sm-10 col-sm-offset-1 text-center text-center">
                                <p class="mt32 mb16">
                                    Welcome back!, please provide your login and password to access.
                                </p>
                            </div>
                            <form class="oe_login_form mt16 mb32 ml64 mr64 modal_form_login" role="form" method="post" t-if="not message" data-action="/theme/login">
                                <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>

                                <div class="form-group field-db" t-if="databases and len(databases) &gt; 1">
                                    <label for="db" class="control-label">Database</label>
                                    <div class="input-group">
                                        <input type="text" name="db" t-att-value="request.db" id="db" class="form-control" required="required" readonly="readonly"/>
                                        <span class="input-group-btn">
                                        <a href="/web/database/selector" class="btn btn-default">Select <i class="fa fa-database"></i></a>
                                        </span>
                                    </div>
                                </div>

                                <div class="form-group field-login">
                                    <input type="text" name="login" placeholder="Email" t-att-value="login" id="login" class="form-control" required="required" autofocus="autofocus" autocapitalize="off"/>
                                </div>

                                <div class="form-group field-password">
                                    <input type="password" name="password" placeholder="Password" id="password" class="form-control" required="required" autocomplete="current-password" t-att-autofocus="'autofocus' if login else None" maxlength="4096"/>
                                </div>

                                <span class="login-modal-error"></span>

                                <input type="hidden" name="redirect" t-att-value="redirect"/>
                                <div class="clearfix oe_login_buttons">
                                    <div class="mt32 col-md-offset-2 col-md-8 col-sm-offset-2 col-sm-8">
                                       <div class="row">
                                            <button type="submit" class="btn btn-primary btn-block submit-log-in">Log in</button>
                                       </div>
                                       <div class="row mt16">
                                            <a href="/web/reset_password">Forgot my password</a>
                                       </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
    </template>

    <template id="reset_password" inherit_id="auth_signup.reset_password">
        <xpath expr="//div[hasclass('form-group', 'field-login')]/label" position="replace"/>

        <xpath expr="//div[hasclass('form-group', 'field-login')]/input" position="attributes">
            <attribute name="placeholder" add="Email" separator=" "></attribute>
        </xpath>

        <xpath expr="//div[hasclass('clearfix', 'oe_login_buttons')]" position="attributes">
            <attribute name="class" add="text-center" separator=" "></attribute>
        </xpath>
        <xpath expr="//div[hasclass('clearfix', 'oe_login_buttons', 'text-center')]/button" position="attributes">
            <attribute name="class" add="btn-lg mt16 mb32" remove="pull-left" separator=" "></attribute>
        </xpath>
        
       <xpath expr="//a[hasclass('btn', 'btn-link', 'pull-right')]" position="attributes">
            <attribute name="class" add="mt16 col-md-12 col-sm-12 col-xs-12 col-lg-12" remove="btn btn-link pull-right" separator=" "></attribute>
        </xpath>
        <xpath expr="//a[hasclass('btn', 'btn-link', 'pull-right')]" position="attributes">
            <attribute name="class" add="mt16 col-md-12 col-sm-12 col-xs-12 col-lg-12" remove="btn btn-link pull-right" separator=" "></attribute>
        </xpath>

    </template>

    <template id="layout" inherit_id="website.layout" priority="14">
        <xpath expr="//div[@id='wrapwrap']/main" position="inside">
            <t t-set="id_login" t-value="'modalLogIn'"/>
            <t t-call="theme_typ.login_modal" groups="base.group_public"/>
        </xpath>
    </template>

</odoo>
