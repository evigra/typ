<?xml version='1.0' encoding='UTF-8'?>
<openerp>
    <data>
        <record id="view_reports_base_tree" model="ir.ui.view">
            <field name="name">Commisions Report</field>
            <field name="model">commision.reports.base</field>
            <field name="arch" type="xml">
                <tree string="Invoice Line" version="7.0">
                    <field name="name"/>
                    <field name="filter_id"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        <record id="view_reports_base_form" model="ir.ui.view">
            <field name="name">Commisions Report</field>
            <field name="model">commision.reports.base</field>
            <field name="arch" type="xml">
                <form string="Invoice Line" version="7.0">
                    <header>
                        <button name="fill_required_fields"
                                string="Fill required fields"
                                type="object"
                                help="Fill required fields in the invoice lines selected by the filter used"/>
                        <field name="state" widget="statusbar" clickable="True"/>
                    </header>
                    <sheet>
                        <h1><field name="name"/></h1>
                        <group col="2" colspan="2">
                            <field name="invoice" attrs="{'invisible': ['|', ('lines', '=', True), ('custom', '=', True)]}"/>
                            <field name="lines" attrs="{'invisible': ['|', ('invoice', '=', True), ('custom', '=', True)]}"/>
                            <field name="custom" attrs="{'invisible': ['|', ('lines', '=', True), ('invoice', '=', True)]}"/>
                        </group>
                        <group>
                            <field name="update"/>
                        </group>
                        <separator string="Filters Section"/>
                        <group>
                            <field name="filter_id" attrs="{'invisible': ['|', ('lines', '=', False), '|', ('invoice', '=', True), ('custom', '=', True)], 'required': [('lines', '=', True)]}" context="{'default_model_id': 'account.invoice.line'}"/>
                            <field name="filter_inv_id" attrs="{'invisible': ['|', ('invoice', '=', False), '|', ('lines', '=', True), ('custom', '=', True)], 'required': [('invoice', '=', True)]}" context="{'default_model_id': 'account.invoice'}"/>
                        </group>
                        <group col="4" colspan="6" attrs="{'invisible': ['|', ('custom', '=', False), '|', ('invoice', '=', True), ('lines', '=', True)]}">
                            <field name="partner_id"/>
                            <group col="4" colspan="6">
                                <separator string="Date Range"/>
                                <group col="2" colspan="6">
                                    <field name="date_start" attrs="{'required': [('custom', '=', True)]}"/>
                                    <field name="date_end" attrs="{'required': [('custom', '=', True)]}"/>
                                </group>
                            </group>
                        </group>
                        <button class="oe_link" string="Invoice Lines with this filter"
                            type="object" name="go_to_invoice_lines"/>
                        <notebook>
                            <page string="Comments">
                                <field name="comment_commisions" nolabel="1"/>
                            </page>
                        </notebook>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread" options='{"thread_level": 1}'/>
                    </div>
                </form>
            </field>
        </record>
        <record model="ir.actions.act_window" id="action_hr_report_base_tree">
            <field name="name">Commisions Reports</field>
            <field name="res_model">commision.reports.base</field>
            <field name="view_type">form</field>
            <field name="context">{'type':'commision'}</field>
            <field name="domain">[('type','=','commision')]</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem action="action_hr_report_base_tree" id="menu_action_commision_reports" parent="account.menu_finance_reporting" groups="res_group_commision_report"/>

        <record model="ir.actions.act_window" id="action_sales_report_base_tree">
            <field name="name">Sales Reports</field>
            <field name="res_model">commision.reports.base</field>
            <field name="view_type">form</field>
            <field name="context">{'type':'sale'}</field>
            <field name="domain">[('type','=','sale')]</field>
            <field name="view_mode">tree,form</field>
        </record>
        <menuitem action="action_sales_report_base_tree" id="menu_action_sales_reports" parent="base.next_id_64" groups="res_group_sales_report"/>
    </data>
</openerp>
