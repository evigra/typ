<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <record model="ir.rule" id="ir_typ_sale_order_rule">
            <field name="name">Sale from sale team</field>
            <field name="model_id" search="[('model', '=', 'sale.order')]" model='ir.model'/>
            <field name="domain_force">[('warehouse_id', 'in', [team.default_warehouse.id  for team in user.sale_team_ids])]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="perm_create" eval="True"/>
        </record>
        <record model="ir.rule" id="ir_typ_sale_purchase_order_rule">
            <field name="name">Purchase from sale team</field>
            <field name="model_id" search="[('model', '=', 'purchase.order')]" model='ir.model'/>
            <field name="domain_force">[('picking_type_id.warehouse_id', 'in', [team.default_warehouse.id  for team in user.sale_team_ids])]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="perm_create" eval="True"/>
        </record>
        <record model="ir.rule" id="ir_typ_sale_purchase_requisition_rule">
            <field name="name">Purchase requisition from sale team</field>
            <field name="model_id" search="[('model', '=', 'purchase.requisition')]" model='ir.model'/>
            <field name="domain_force">[('picking_type_id.warehouse_id', 'in', [team.default_warehouse.id  for team in user.sale_team_ids])]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="perm_create" eval="True"/>
        </record>
        <record model="ir.rule" id="ir_typ_crm_case_sectionrule">
            <field name="name">sale team from sale team</field>
            <field name="model_id" search="[('model', '=', 'crm.case.section')]" model='ir.model'/>
            <field name="domain_force">[('id', 'in', [team.id  for team in user.sale_team_ids])]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="perm_create" eval="True"/>
        </record>
        <record model="ir.rule" id="ir_typ_account_move_line_rule">
            <field name="name">journal items from sale team</field>
            <field name="model_id" search="[('model', '=', 'account.move.line')]" model='ir.model'/>
            <field name="domain_force">[('journal_id', 'in', [journal.id  for team in user.sale_team_ids for journal in team.journal_team_ids])]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="perm_create" eval="True"/>
        </record>
        <record model="ir.rule" id="ir_typ_account_move_rule">
            <field name="name">journal entry from sale team</field>
            <field name="model_id" search="[('model', '=', 'account.move')]" model='ir.model'/>
            <field name="domain_force">[('journal_id', 'in', [journal.id  for team in user.sale_team_ids for journal in team.journal_team_ids])]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="perm_create" eval="True"/>
        </record>
        <record model="ir.rule" id="ir_typ_account_invoice_rule">
            <field name="name">invoice from sale team</field>
            <field name="model_id" search="[('model', '=', 'account.invoice')]" model='ir.model'/>
            <field name="domain_force">[('journal_id', 'in', [journal.id  for team in user.sale_team_ids for journal in team.journal_team_ids])]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="perm_create" eval="True"/>
        </record>
        <record model="ir.rule" id="ir_typ_crm_lead_rule">
            <field name="name">crm lead from sale team</field>
            <field name="model_id" search="[('model', '=', 'crm.lead')]" model='ir.model'/>
            <field name="domain_force">[('section_id', 'in', [team.id  for team in user.sale_team_ids])]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="perm_create" eval="True"/>
        </record>
        <record model="ir.rule" id="account_invoice_report_sale_team_rule">
            <field name="name">Invoice statistics filtered by sales team</field>
            <field name="model_id" search="[('model', '=', 'account.invoice.report')]" model='ir.model'/>
            <field name="domain_force">[('section_id', 'in', [team.id  for team in user.sale_team_ids])]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_unlink" eval="True"/>
            <field name="perm_create" eval="True"/>
        </record>
    </data>
</openerp>
